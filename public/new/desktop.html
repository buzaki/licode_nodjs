<!DOCTYPE html>
<html>
<head>
    <title>desktop notify</title>
    <meta name="generator" content="editplus" />
    <meta name="author" content="" />
    <meta name="keywords" content="" />
    <meta name="description" content="" />
    <meta http-equiv='content-type' content='text/html; charset=utf-8' />
</head>
<body>

    <button id='btn'>show desktop notify</button>

    <script type='text/javascript'>
        document.querySelector("#btn").addEventListener('click', notify, false);

        function notify() {
            if (window.Notification) {
                if (window.Notification.permission === 'granted') {
                    var not = new Notification("桌面通知测试", { icon: "/images/buaiti-logo.png", tag: "通知" });
		    not.onclick = function() { this.cancel(); };                   
                } else {
                    window.Notification.requestPermission(notify);
                }
            }
        }
    </script>
</body>
</html>
